import{d as v,o as _,f as m,g as a,h as t,w as s,F as O,q as N,r as o,t as b,b as x,m as U,a as d,k as D,s as y}from"./index-DycsMsrq.js";import{p as E,a as G}from"./request-BSJBvSJz.js";import{p as P}from"./oauth-TgDM20jG.js";const L="/llmops-vue/assets/login-banner-Cqtv5-d6.png",R={class:"w-[550px] flex items-center justify-center bg-gradient-to-tr from-[#1d2129] to-[#00308f]"},T={class:"flex-1 h-full"},H={class:"flex flex-col items-center justify-center h-full"},J={class:"text-2xl leading-7 font-bold text-gray-100"},K={class:"mt-2 text-gray-400 leading-[22px]"},Q=["src"],W=v({__name:"Banner",setup(c){const i=[{slogan:"开箱即用的高质量AI编排模板",subSlogan:"丰富的应用组件，覆盖大多数典型业务场景",image:L},{slogan:"零代码5分钟编排原生AI应用",subSlogan:"高效开发你的AI原生应用",image:L}];return(l,u)=>{const n=o("a-carousel-item"),g=o("a-carousel");return _(),m("div",R,[a("div",T,[t(g,{"animation-name":"fade",class:"h-full"},{default:s(()=>[(_(),m(O,null,N(i,r=>t(n,{key:r.slogan},{default:s(()=>[a("div",H,[a("div",J,b(r.slogan),1),a("div",K,b(r.subSlogan),1),a("img",{src:r.image,alt:"LLMOps",class:"w-[320px] mt-[30px]"},null,8,Q)])]),_:2},1024)),64))]),_:1})])])}}}),X=(c,i)=>E("/auth/password-login",{body:{email:c,password:i}}),Y={class:""},Z={class:"h-8 text-red-700 leading-8 line-clamp-1"},ee={class:"flex justify-between"},te=v({__name:"LoginForm",setup(c){const i=x(""),l=x(!1),u=x(!1),n=U({email:"",password:""}),g=G(),r=D(),k=()=>y.error("忘记密码请联系管理员"),V=async()=>{try{u.value=!0;const p=await P("github");window.location.href=p.data.redirect_url}catch{u.value=!1}},S=async({errors:p})=>{if(!p)try{l.value=!0;const e=await X(n.email,n.password);y.success("登录成功，正在跳转"),g.update(e.data),await r.replace({path:"/home"})}catch(e){i.value=e.message,n.password=""}finally{l.value=!1}};return(p,e)=>{const z=o("icon-user"),A=o("a-input"),h=o("a-form-item"),B=o("icon-lock"),C=o("a-input-password"),$=o("a-checkbox"),M=o("a-link"),w=o("a-button"),j=o("a-divider"),I=o("icon-github"),q=o("a-space"),F=o("a-form");return _(),m("div",Y,[e[7]||(e[7]=a("div",{class:"text-gray-900 font-bold text-2xl leading-8"},"LLMOps AppBuilder",-1)),e[8]||(e[8]=a("p",{class:"text-base leading-6 text-gray-600"},"高效开发你的AI原生应用",-1)),a("div",Z,b(i.value),1),t(F,{model:n,onSubmit:S,layout:"vertical",size:"large",class:"flex flex-col w-full"},{default:s(()=>[t(h,{field:"email",rules:[{type:"email",required:!0,message:"登录账号必须是合法的邮箱"}],"validate-trigger":["change","blur"],"hide-label":""},{default:s(()=>[t(A,{modelValue:n.email,"onUpdate:modelValue":e[0]||(e[0]=f=>n.email=f),size:"large",placeholder:"登录账号"},{prefix:s(()=>[t(z)]),_:1},8,["modelValue"])]),_:1}),t(h,{field:"password",rules:[{required:!0,message:"账号密码不能为空"}],"validate-trigger":["change","blur"],"hide-label":""},{default:s(()=>[t(C,{modelValue:n.password,"onUpdate:modelValue":e[1]||(e[1]=f=>n.password=f),size:"large",placeholder:"账号密码"},{prefix:s(()=>[t(B)]),_:1},8,["modelValue"])]),_:1}),t(q,{size:16,direction:"vertical"},{default:s(()=>[a("div",ee,[t($,null,{default:s(()=>e[2]||(e[2]=[d("记住密码")])),_:1}),t(M,{onClick:k},{default:s(()=>e[3]||(e[3]=[d("忘记密码?")])),_:1})]),t(w,{loading:l.value,size:"large",type:"primary","html-type":"submit",long:""},{default:s(()=>e[4]||(e[4]=[d(" 登录 ")])),_:1},8,["loading"]),t(j,null,{default:s(()=>e[5]||(e[5]=[d("第三方授权")])),_:1}),t(w,{loading:u.value,size:"large",type:"dashed",long:"",onClick:V},{icon:s(()=>[t(I)]),default:s(()=>[e[6]||(e[6]=d(" Github "))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}}),se={class:"flex h-screen bg-white"},oe={class:"relative flex flex-1 items-center justify-center pb-10"},ie=v({__name:"LoginView",setup(c){return(i,l)=>(_(),m("div",se,[l[1]||(l[1]=a("div",{class:"fixed top-6 left-[22px] inline-flex items-center"},[a("div",{class:"bg-gray-100 h-8 leading-8 lpx-2 z-50"},"LLMOps AppBuilder")],-1)),t(W),a("div",oe,[t(te),l[0]||(l[0]=a("div",{class:"absolute right-0 bottom-0 w-full"},[a("footer",{class:"flex items-center justify-center h-10 text-gray-600 text-center"}," LLMOps AppBuilder ")],-1))])]))}});export{ie as default};
