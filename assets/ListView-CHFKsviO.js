import{g as G,a as L}from"./builtin-tool-B_1ywBL5.js";import{h as A}from"./moment-C5S46NFB.js";import{d as H,p as F,b as v,q as J,m as M,o as n,c as g,w as l,r,g as e,h as c,a as q,f as u,n as y,t as a,F as h,B as N,u as P,i as b,s as T}from"./index-mfyzJBRJ.js";const U={class:"p-6 flex flex-col"},W={class:"flex items-center justify-between mb-6"},K={class:"flex items-center gap-2"},O={class:"flex items-center justify-between mb-6"},Q={class:"flex items-center gap-2"},R={class:"flex items-center gap-3 mb-3"},X=["src","alt"],Z={class:"flex flex-col"},I={class:"text-base text-gray-900 font-bold"},ee={class:"text-xs text-gray-500 line-clamp-1"},te={class:"leading-[18px] text-gray-500 h-[72px] line-clamp-4 mb-2"},se={class:"flex items-center gap-1.5"},ae={class:"text-xs text-gray-400"},le={key:0,class:""},oe={class:"flex items-center gap-3 mb-3"},ne=["src","alt"],ce={class:"flex flex-col"},ie={class:"text-base text-gray-900 font-bold"},re={class:"text-xs text-gray-500 line-clamp-1"},de={class:"leading-[18px] text-gray-500 mb-2"},ue={class:"flex flex-col gap-2"},_e={class:"text-xs text-gray-500"},me={class:"font-bold text-gray-900 mb-2"},pe={class:"text-gray-500 text-xs"},ge={key:0,class:""},fe={class:"flex flex-col gap-4"},xe={class:"flex items-center gap-2 text-xs"},ve={class:"text-gray-900 font-bold"},ye={class:"text-gray-500"},he={key:0,class:"text-red-700"},be={class:"text-xs text-gray-500"},Be=H({__name:"ListView",setup(ke){const k=F([]),w=F([]),p=v(!1),m=v("all"),f=v(""),o=v(-1),i=J(()=>w.filter(_=>{const s=m.value==="all"||_.category===m.value,C=f.value===""||_.label.toLowerCase().includes(f.value);return s&&C}));return M(async()=>{try{p.value=!0;const _=await G();k.push(..._.data)}finally{p.value=!1,k.push({name:"网络搜索",category:"1"},{name:"图片处理",category:"2"},{name:"天气预报",category:"3"},{name:"实用工具",category:"4"},{name:"其他工具",category:"5"})}}),M(async()=>{try{p.value=!0;const _=await L();w.push(..._.data)}finally{p.value=!1,w.push({idx:0,label:"Google",icon:"https://img1.baidu.com/it/u=1682812017,3182056438&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",name:"google",background:"#ff0000",tools:[{name:"谷歌",label:"谷歌Serper搜素",description:"这是一个低成本的谷歌搜素API，当你需要搜素时事的图标，可以使用该工具，该工具的输入是一个查询语法",inputs:[{name:"query",label:"query",type:"str",description:"需要检索查询的语句",required:!0}]}],category:"1",description:"谷歌服务提供商，覆盖了谷歌搜索等工具",created_at:1740324084e3},{idx:1,label:"时间",icon:"https://img0.baidu.com/it/u=3411057916,604696305&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",name:"time",background:"#ff0000",tools:[{name:"获取当前时间",label:"获取当前时间",description:"一个获取当前时间的工具",inputs:[]},{name:"获取当前时间2",label:"获取当前时间2",description:"一个获取当前时间的工具",inputs:[]}],category:"1",description:"一个用于获取当前时间的工具",created_at:1741323751e3})}}),(_,s)=>{const C=r("icon-common"),x=r("a-avatar"),V=r("a-button"),S=r("a-input-search"),Y=r("icon-user"),B=r("a-card"),z=r("a-col"),$=r("a-empty"),j=r("a-row"),D=r("a-drawer"),E=r("a-spin");return n(),g(E,{loading:p.value,class:"block h-full w-full"},{default:l(()=>[e("div",U,[e("div",W,[e("div",K,[c(x,{size:32,class:"bg-blue-700"},{default:l(()=>[c(C,{size:18})]),_:1}),s[3]||(s[3]=e("div",{class:"text-lg font-medium text-gray-900"},"插件广场",-1))]),c(V,{type:"primary",class:"rounded-lg"},{default:l(()=>s[4]||(s[4]=[q("创建自定义插件")])),_:1})]),e("div",O,[e("div",Q,[c(V,{type:m.value==="all"?"secondary":"text",class:"rounded-lg !text-gray-700 px-3",onClick:s[0]||(s[0]=t=>m.value="all")},{default:l(()=>s[5]||(s[5]=[q("全部 ")])),_:1},8,["type"]),(n(!0),u(h,null,y(k,t=>(n(),g(V,{key:t.category,type:m.value===t.category?"secondary":"text",class:"rounded-lg !text-gray-700 px-3",onClick:d=>m.value=t.category},{default:l(()=>[q(a(t.name),1)]),_:2},1032,["type","onClick"]))),128))]),c(S,{modelValue:f.value,"onUpdate:modelValue":s[1]||(s[1]=t=>f.value=t),placeholder:"请输入插件名称",class:"w-[240px] bg-white rounded-lg border-gray-300"},null,8,["modelValue"])]),c(j,{gutter:[20,20],class:"flex-1"},{default:l(()=>[(n(!0),u(h,null,y(i.value,(t,d)=>(n(),g(z,{key:t.name,span:6},{default:l(()=>[c(B,{hoverable:"",class:"cursor-pointer rounded-lg",onClick:we=>o.value=d},{default:l(()=>[e("div",R,[c(x,{size:40,shape:"square",style:N({backgroundColor:t.background})},{default:l(()=>[e("img",{src:t.icon,alt:t.name},null,8,X)]),_:2},1032,["style"]),e("div",Z,[e("div",I,a(t.label),1),e("div",ee," 提供商 "+a(t.name)+" · "+a(t.tools.length)+" 插件 ",1)])]),e("div",te,a(t.description),1),e("div",se,[c(x,{size:18,class:"bg-blue-700"},{default:l(()=>[c(Y)]),_:1}),e("div",ae," 慕课 · 发布时间 "+a(P(A)(t.created_at).format("YYYY-MM-DD HH:mm")),1)])]),_:2},1032,["onClick"])]),_:2},1024))),128)),i.value.length===0?(n(),g(z,{key:0,span:24},{default:l(()=>[c($,{description:"没有可用的内置插件",class:"h-[400px] flex flex-col items-center justify-center"})]),_:1})):b("",!0)]),_:1}),c(D,{visible:o.value!=-1,width:350,footer:!1,title:"工具详情","drawer-style":{background:"#F9FAFB"},onCancel:s[2]||(s[2]=t=>o.value=-1)},{default:l(()=>[o.value!=-1?(n(),u("div",le,[e("div",oe,[c(x,{size:40,shape:"square",style:N({backgroundColor:i.value[o.value].background})},{default:l(()=>[e("img",{src:i.value[o.value].icon,alt:i.value[o.value].name},null,8,ne)]),_:1},8,["style"]),e("div",ce,[e("div",ie,a(i.value[o.value].label),1),e("div",re," 提供商 "+a(i.value[o.value].name)+" · "+a(i.value[o.value].tools.length)+" 插件 ",1)])]),e("div",de,a(i.value[o.value].description),1),s[7]||(s[7]=e("hr",{class:"my-4"},null,-1)),e("div",ue,[e("div",_e," 包含 "+a(i.value[o.value].tools.length)+" 个工具 ",1),(n(!0),u(h,null,y(i.value[o.value].tools,t=>(n(),g(B,{key:t.name,class:"cursor-pointer flex flex-col rounded-xl"},{default:l(()=>[e("div",me,a(t.label),1),e("div",pe,a(t.description),1),t.inputs.length>0?(n(),u("div",ge,[s[6]||(s[6]=e("div",{class:"flex items-center gap-2 my-4"},[e("div",{class:"text-xs font-bold text-gray-500"},"参数"),e("hr",{class:"flex-1"})],-1)),e("div",fe,[(n(!0),u(h,null,y(t.inputs,d=>(n(),u("div",{key:d.name,class:"flex flex-col gap-2"},[e("div",xe,[e("div",ve,a(d.name),1),e("div",ye,a(P(T)[d.type]),1),d.required?(n(),u("div",he,"必填")):b("",!0)]),e("div",be,a(d.description),1)]))),128))])])):b("",!0)]),_:2},1024))),128))])])):b("",!0)]),_:1},8,["visible"])])]),_:1},8,["loading"])}}});export{Be as default};
