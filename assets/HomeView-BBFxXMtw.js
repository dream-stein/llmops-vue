import{s as F,p as $,g as K,r as c,M,d as E,u as J,o as R,n as X,a as _,c as f,b as s,e as i,f as r,w as g,h as Y,i as Z,j as A,F as tt,k as et,l as st,v as at,m as nt,q as lt,t as d,x as ot}from"./index-BgoldPQy.js";import{u as it,s as rt,_ as ct,a as ut,b as gt}from"./AiMessage.vue_vue_type_style_index_0_lang-ByQp6Ymf.js";const dt=(e,a)=>F("/assistant-agent/chat",{body:{query:e}},a),pt=e=>$(`/assistant-agent/chat/${e}/stop`),vt=e=>K("/assistant-agent/messages",{params:e}),_t=()=>$("/assistant-agent/delete-conversation"),ft=()=>{const e=c(!1);return{loading:e,handleAssistantAgentChat:async(l,u)=>{try{e.value=!0,await dt(l,u)}finally{e.value=!1}}}},xt=()=>{const e=c(!1);return{loading:e,handleStopAssistantAgentChat:async l=>{try{e.value=!0,await pt(l)}finally{e.value=!1}}}},ht=()=>{const e=c(!1),a=c([]),l=c(0),u={current_page:1,page_size:5,total_page:0,total_record:0},n=c({...u});return{loading:e,messages:a,paginator:n,loadAssistantAgentMessages:async(x=!1)=>{var h;if(x)n.value={...u},l.value=0;else if(n.value.current_page>n.value.total_page)return;try{e.value=!0;const p=(await vt({current_page:n.value.current_page,page_size:n.value.page_size,created_at:l.value})).data;n.value=p.paginator,n.value.current_page<=n.value.total_page&&(n.value.current_page+=1),x?a.value=p.list:(a.value.push(...p.list),l.value=((h=p.list[0])==null?void 0:h.created_at)??0)}finally{a.value.push({id:"1221",conversation_id:"212121",query:"å¸®æˆ‘çœ‹ä¸€ä¸‹2025å¹´4æœˆçš„é»„é‡‘èµ°åŠ¿",answer:`2025å¹´4æœˆé»„é‡‘èµ°åŠ¿å¯èƒ½å‘ˆç°ä»¥ä¸‹ç‰¹ç‚¹ï¼š

### çŸ­æœŸè¶‹åŠ¿ï¼š
1. **æŠ€æœ¯æ€§å›è°ƒå‹åŠ›**ï¼šé‡‘ä»·åœ¨3æœˆçªç ´3000ç¾å…ƒåï¼Œéƒ¨åˆ†è·åˆ©ç›˜å¯èƒ½ç¦»åœºï¼Œå åŠ å¸‚åœºå¯¹å‰æœŸå¿«é€Ÿä¸Šæ¶¨çš„æ¶ˆåŒ–éœ€æ±‚ï¼Œ4æœˆå¯èƒ½å‡ºç°çŸ­æœŸå›è°ƒæˆ–ç›˜æ•´ã€‚
2. **å…³ç¨æ”¿ç­–å½±å“**ï¼šç¾å›½4æœˆå…³ç¨æ”¿ç­–ç»†èŠ‚è‹¥è½åœ°ï¼Œå¯èƒ½ç¼“è§£å¸‚åœºå¯¹è´¸æ˜“ç´§å¼ çš„æ‹…å¿§ï¼ŒçŸ­æœŸå‰Šå¼±é¿é™©éœ€æ±‚ï¼Œå¯¼è‡´é‡‘ä»·å›è°ƒã€‚

### ä¸­é•¿æœŸæ”¯æ’‘å› ç´ ï¼š
1. **ç¾è”å‚¨é™æ¯é¢„æœŸ**ï¼šè‹¥ç¾å›½ç»æµæ•°æ®ç–²è½¯ï¼ˆå¦‚å¤±ä¸šç‡ä¸Šå‡ã€é€šèƒ€å›è½ï¼‰ï¼Œå¸‚åœºå¯¹ç¾è”å‚¨ä¸‰å­£åº¦é™æ¯çš„é¢„æœŸå°†å‡æ¸©ï¼Œæ¨åŠ¨é‡‘ä»·å‘3200ç¾å…ƒç”šè‡³æ›´é«˜ç›®æ ‡è¿ˆè¿›ã€‚
2. **åœ°ç¼˜æ”¿æ²»é£é™©**ï¼šä¸­ä¸œå±€åŠ¿æŒç»­ç´§å¼ ï¼ˆå¦‚å·´ä»¥å†²çªã€èƒ¡å¡æ­¦è£…è¡ŒåŠ¨ï¼‰ã€å…¨çƒå»ç¾å…ƒåŒ–è¶‹åŠ¿åŠå¤®è¡ŒæŒç»­è´­é‡‘ï¼ˆå°¤å…¶æ˜¯ä¸­å›½ã€å°åº¦ç­‰å›½ï¼‰å°†ä¸ºé‡‘ä»·æä¾›é•¿æœŸæ”¯æ’‘ã€‚
3. **ç¾å…ƒç–²è½¯**ï¼šç¾å…ƒæŒ‡æ•°èµ°å¼±ç›´æ¥åˆ©å¥½ä»¥ç¾å…ƒè®¡ä»·çš„é»„é‡‘ï¼Œè‹¥ç¾å…ƒå»¶ç»­è·ŒåŠ¿ï¼Œé‡‘ä»·ä¸Šè¡Œç©ºé—´å°†è¿›ä¸€æ­¥æ‰“å¼€ã€‚

### æœºæ„è§‚ç‚¹ï¼š
- **ä¹è§‚é¢„æœŸ**ï¼šç‘é“¶ã€é«˜ç››ç­‰æœºæ„ä¸Šè°ƒç›®æ ‡ä»·è‡³3200ç¾å…ƒï¼Œéº¦æ ¼ç†ç”šè‡³é¢„æµ‹ä¸‰å­£åº¦é‡‘ä»·å¯èƒ½å†²å‡»3500ç¾å…ƒã€‚
- **è°¨æ…æé†’**ï¼šæ³•å…´é“¶è¡ŒæŒ‡å‡ºï¼Œè‹¥è´¸æ˜“ç´§å¼ å±€åŠ¿ç¼“å’Œæˆ–ç¾è”å‚¨é™æ¯ä¿¡å·ä¸æ˜ï¼Œé‡‘ä»·ä¸‹åŠå¹´æ¶¨åŠ¿å¯èƒ½å—é™ã€‚

### æ€»ç»“ï¼š
4æœˆé‡‘ä»·æˆ–å…ˆç»å†çŸ­æœŸå›è°ƒï¼Œä½†ä¸­é•¿æœŸåœ¨é¿é™©éœ€æ±‚ã€å®½æ¾è´§å¸æ”¿ç­–é¢„æœŸåŠå¤®è¡Œè´­é‡‘æ”¯æ’‘ä¸‹ä»å…·å¤‡ä¸Šè¡Œç©ºé—´ã€‚æŠ•èµ„è€…éœ€å…³æ³¨ç¾è”å‚¨æ”¿ç­–åŠ¨å‘ã€åœ°ç¼˜å†²çªè¿›å±•åŠå…³ç¨æ”¿ç­–ç»†èŠ‚ï¼Œå»ºè®®åˆ†æ‰¹å¸ƒå±€ï¼Œæ§åˆ¶ä»“ä½ä»¥åº”å¯¹çŸ­æœŸæ³¢åŠ¨ã€‚`,total_token_count:2121,latency:2,agent_thoughts:[],created_at:0}),e.value=!1}}}},yt=()=>{const e=c(!1);return{loading:e,handleDeleteAssistantAgentConversation:async()=>{try{e.value=!0;const l=await _t();M.success(l.message)}finally{e.value=!1}}}},At="/llmops-vue/assets/assistant-agent-background-Jf_uHUnU.png",mt={class:"w-[600px] h-full min-h-screen mx-auto"},bt={key:0,class:"flex flex-col px-6 h-[calc(100%-100px)] min-h-[calc(100vh-100px)]"},wt={class:"flex flex-col gap-6 py-6"},kt={key:0,class:"h-[50px] flex items-center justify-center"},Ct={key:1,class:"flex flex-col p-6 gap-2 items-center justify-center overflow-scroll scrollbar-w-none h-[calc(100%-100px)] min-h-[calc(100vh-100px)]"},St={class:"flex gap-2"},Lt={class:"flex flex-col items-start gap-2"},Mt={class:"bg-white border border-gray-200 text-gray-700 px-4 py-3 rounded-2xl break-all leading-7"},qt={class:"list-disc pl-6"},zt={class:"flex flex-col gap-2"},$t=["onClick"],Ht={class:"w-full flex flex-col flex-shrink-0"},It={class:"px-6 flex items-center gap-4"},Vt={class:"bg-white h-[50px] flex items-center gap-2 px-4 flex-1 border border-gray-200 rounded-full"},Bt=E({__name:"HomeView",setup(e){const a=c(""),l=c(""),u=c(""),n=c(null),m=c(0),x=J(),h=["ä»€ä¹ˆæ˜¯LLMOps?","æˆ‘æƒ³åˆ›å»ºä¸€ä¸ªåº”ç”¨","èƒ½ä»‹ç»ä¸‹ä»€ä¹ˆæ˜¯RAGå—?"],{suggested_questions:b,handleGenerateSuggestedQuestions:p}=it(),{loading:v,handleAssistantAgentChat:Dt}=ft(),{loading:H,handleStopAssistantAgentChat:I}=xt(),{loading:V,messages:w,loadAssistantAgentMessages:k}=ht(),{loading:D,handleDeleteAssistantAgentConversation:P}=yt(),T=()=>{m.value=n.value.$el.scrollHeight},B=()=>{n.value.$el.scrollTop=n.value.$el.scrollHeight-m.value},N=async y=>{const{scrollTop:t}=y.target;t<=0&&!V.value&&(T(),await k(!1),B())},C=async()=>{if(a.value.trim()===""){M.warning("ç”¨æˆ·æé—®ä¸èƒ½ä¸ºç©º");return}if(v.value){M.warning("ä¸Šä¸€æ¬¡æé—®è¿˜æœªç»“æŸï¼Œè¯·ç¨ç­‰");return}b.value=[],u.value="",l.value="",w.value.unshift({id:"",conversation_id:"",query:a.value,answer:"",total_token_count:0,latency:0,agent_thoughts:[],created_at:0}),a.value,a.value=""},q=async()=>{l.value===""||!v.value||await I(l.value)},z=async y=>{a.value=y,await C()};return R(async()=>{await k(!0),await X(()=>{n.value&&n.value.scrollToBottom()})}),(y,t)=>{const O=d("icon-poweroff"),S=d("a-button"),G=d("icon-apps"),Q=d("a-avatar"),j=d("router-link"),U=d("icon-empty"),W=d("icon-send");return _(),f("div",{class:"w-full h-full min-h-screen bg-gray-100 bg-cover bg-no-repeat bg-center",style:lt({backgroundImage:`url(${i(At)})`})},[s("div",mt,[i(w).length>0?(_(),f("div",bt,[r(i(gt),{ref_key:"scroller",ref:n,items:i(w).slice().reverse(),"min-item-size":1,onScroll:N,class:"h-full scrollbar-w-none"},{default:g(({item:o,active:L})=>[r(i(rt),{item:o,active:L,"data-index":o.id},{default:g(()=>[s("div",wt,[r(ct,{query:o.query,account:i(x).account},null,8,["query","account"]),r(ut,{agent_thoughts:o.agent_thoughts,answer:o.answer,app:{name:"è¾…åŠ©Agent"},suggested_questions:o.id===u.value?i(b):[],loading:o.id===u.value&&i(v),latency:o.latency,total_token_count:o.total_token_count,message_class:"bg-white",onSelectSuggestedQuestion:z},null,8,["agent_thoughts","answer","suggested_questions","loading","latency","total_token_count"])])]),_:2},1032,["item","active","data-index"])]),_:1},8,["items"]),l.value&&i(v)?(_(),f("div",kt,[r(S,{loading:i(H),class:"rounded-lg px-2",onClick:q},{icon:g(()=>[r(O)]),default:g(()=>[t[2]||(t[2]=A(" åœæ­¢å“åº” "))]),_:1},8,["loading"])])):Y("",!0)])):(_(),f("div",Ct,[t[12]||(t[12]=Z('<div class="mb-9"><div class="text-[40px] font-bold text-gray-700 mt-[52px] mb-4"> Hiï¼Œæˆ‘æ˜¯ AI åº”ç”¨æ„å»ºå™¨ </div><div class="text-[30px] font-bold text-gray-700 mb-2"> ä½ çš„ä¸“å± <span class="text-blue-700">AI åŸç”Ÿåº”ç”¨</span> å¼€å‘å¹³å° </div><div class="text-base text-gray-700"> è¯´å‡ºä½ çš„åˆ›æ„ï¼Œæˆ‘å¯ä»¥å¿«é€Ÿå¸®ä½ åˆ›å»ºä¸“å±åº”ç”¨ï¼Œä¸€é”®è½»æ¾åˆ†äº«ç»™æœ‹å‹ï¼Œä¹Ÿå¯ä»¥ä¸€é”®å‘å¸ƒåˆ° LLMOps å¹³å°ã€å¾®ä¿¡ç­‰å¤šä¸ªæ¸ é“ã€‚ </div></div>',1)),s("div",St,[r(Q,{size:30,shape:"circle",class:"flex-shrink-0 bg-blue-700"},{default:g(()=>[r(G)]),_:1}),s("div",Lt,[t[11]||(t[11]=s("div",{class:"text-gray-700 font-bold"},"è¾…åŠ©Agent",-1)),s("div",Mt,[t[8]||(t[8]=s("div",{class:"font-bold"},"ä½ å¥½ï¼Œæ¬¢è¿æ¥åˆ°LLMOpsğŸ‰",-1)),t[9]||(t[9]=s("div",{class:""}," LLMOpsæ˜¯æ–°ä¸€ä»£å¤§æ¨¡å‹ AI åº”ç”¨å¼€å‘å¹³å°ã€‚æ— è®ºä½ æ˜¯å¦æœ‰ç¼–ç¨‹åŸºç¡€ï¼Œéƒ½å¯ä»¥å¿«é€Ÿæ­å»ºå‡ºå„ç§ AI åº”ç”¨ï¼Œå¹¶ä¸€é”®å‘å¸ƒåˆ°å„å¤§ç¤¾äº¤å¹³å°ï¼Œæˆ–è€…è½»æ¾éƒ¨ç½²åˆ°è‡ªå·±çš„ç½‘ç«™ã€‚ ",-1)),s("ul",qt,[s("li",null,[t[4]||(t[4]=A(" éšæ—¶æ¥ ")),r(j,{to:{name:"store-apps-list"},class:"text-blue-700"},{default:g(()=>t[3]||(t[3]=[A("åº”ç”¨å¹¿åœº ")])),_:1}),t[5]||(t[5]=A(" é€›é€›ï¼Œè¿™é‡Œå†…ç½®äº†è®¸å¤šè¶…æœ‰è¶£çš„åº”ç”¨ã€‚ "))]),t[6]||(t[6]=s("li",null,"ä½ ä¹Ÿå¯ä»¥ç›´æ¥å‘é€â€œæˆ‘æƒ³åšä¸€ä¸ªåº”ç”¨â€ï¼Œæˆ‘å¯ä»¥å¸®ä½ å¿«é€Ÿåˆ›å»ºåº”ç”¨ã€‚",-1)),t[7]||(t[7]=s("li",null,"ä½ ä¹Ÿå¯ä»¥å‘æˆ‘æé—®æœ‰å…³è¯¾ç¨‹çš„é—®é¢˜ï¼Œæˆ‘å¯ä»¥å¿«é€Ÿæ›¿ä½ è§£ç­”ã€‚",-1))]),t[10]||(t[10]=s("div",{class:""},"å¦‚æœä½ è¿˜æœ‰å…¶ä»–LLMOpsä½¿ç”¨é—®é¢˜ï¼Œä¹Ÿæ¬¢è¿éšæ—¶é—®æˆ‘ï¼",-1))]),s("div",zt,[(_(),f(tt,null,et(h,(o,L)=>s("div",{key:L,class:"px-4 py-1.5 border rounded-lg text-gray-700 cursor-pointer bg-white hover:bg-gray-50",onClick:async()=>await z(o)},ot(o),9,$t)),64))])])])])),s("div",Ht,[s("div",It,[r(S,{loading:i(D),class:"flex-shrink-0 !text-gray-700",type:"text",shape:"circle",onClick:t[0]||(t[0]=async()=>{await q(),await i(P)(),await i(k)(!0)})},{icon:g(()=>[r(U,{size:16})]),_:1},8,["loading"]),s("div",Vt,[st(s("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>a.value=o),type:"text",class:"flex-1 outline-0",placeholder:"å‘é€æ¶ˆæ¯æˆ–åˆ›å»ºAIåº”ç”¨...",onKeyup:nt(C,["enter"])},null,544),[[at,a.value]]),r(S,{loading:i(v),type:"text",shape:"circle",class:"!text-gray-700",onClick:C},{icon:g(()=>[r(W,{size:16})]),_:1},8,["loading"])])]),t[13]||(t[13]=s("div",{class:"text-center text-gray-500 text-xs py-4"}," å†…å®¹ç”±AIç”Ÿæˆï¼Œæ— æ³•ç¡®ä¿çœŸå®å‡†ç¡®ï¼Œä»…ä¾›å‚è€ƒã€‚ ",-1))])])],4)}}});export{Bt as default};
