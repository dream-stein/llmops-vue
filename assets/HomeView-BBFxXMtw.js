import{s as F,p as $,g as K,r as c,M,d as E,u as J,o as R,n as X,a as _,c as f,b as s,e as i,f as r,w as g,h as Y,i as Z,j as A,F as tt,k as et,l as st,v as at,m as nt,q as lt,t as d,x as ot}from"./index-BgoldPQy.js";import{u as it,s as rt,_ as ct,a as ut,b as gt}from"./AiMessage.vue_vue_type_style_index_0_lang-ByQp6Ymf.js";const dt=(e,a)=>F("/assistant-agent/chat",{body:{query:e}},a),pt=e=>$(`/assistant-agent/chat/${e}/stop`),vt=e=>K("/assistant-agent/messages",{params:e}),_t=()=>$("/assistant-agent/delete-conversation"),ft=()=>{const e=c(!1);return{loading:e,handleAssistantAgentChat:async(l,u)=>{try{e.value=!0,await dt(l,u)}finally{e.value=!1}}}},xt=()=>{const e=c(!1);return{loading:e,handleStopAssistantAgentChat:async l=>{try{e.value=!0,await pt(l)}finally{e.value=!1}}}},ht=()=>{const e=c(!1),a=c([]),l=c(0),u={current_page:1,page_size:5,total_page:0,total_record:0},n=c({...u});return{loading:e,messages:a,paginator:n,loadAssistantAgentMessages:async(x=!1)=>{var h;if(x)n.value={...u},l.value=0;else if(n.value.current_page>n.value.total_page)return;try{e.value=!0;const p=(await vt({current_page:n.value.current_page,page_size:n.value.page_size,created_at:l.value})).data;n.value=p.paginator,n.value.current_page<=n.value.total_page&&(n.value.current_page+=1),x?a.value=p.list:(a.value.push(...p.list),l.value=((h=p.list[0])==null?void 0:h.created_at)??0)}finally{a.value.push({id:"1221",conversation_id:"212121",query:"帮我看一下2025年4月的黄金走势",answer:`2025年4月黄金走势可能呈现以下特点：

### 短期趋势：
1. **技术性回调压力**：金价在3月突破3000美元后，部分获利盘可能离场，叠加市场对前期快速上涨的消化需求，4月可能出现短期回调或盘整。
2. **关税政策影响**：美国4月关税政策细节若落地，可能缓解市场对贸易紧张的担忧，短期削弱避险需求，导致金价回调。

### 中长期支撑因素：
1. **美联储降息预期**：若美国经济数据疲软（如失业率上升、通胀回落），市场对美联储三季度降息的预期将升温，推动金价向3200美元甚至更高目标迈进。
2. **地缘政治风险**：中东局势持续紧张（如巴以冲突、胡塞武装行动）、全球去美元化趋势及央行持续购金（尤其是中国、印度等国）将为金价提供长期支撑。
3. **美元疲软**：美元指数走弱直接利好以美元计价的黄金，若美元延续跌势，金价上行空间将进一步打开。

### 机构观点：
- **乐观预期**：瑞银、高盛等机构上调目标价至3200美元，麦格理甚至预测三季度金价可能冲击3500美元。
- **谨慎提醒**：法兴银行指出，若贸易紧张局势缓和或美联储降息信号不明，金价下半年涨势可能受限。

### 总结：
4月金价或先经历短期回调，但中长期在避险需求、宽松货币政策预期及央行购金支撑下仍具备上行空间。投资者需关注美联储政策动向、地缘冲突进展及关税政策细节，建议分批布局，控制仓位以应对短期波动。`,total_token_count:2121,latency:2,agent_thoughts:[],created_at:0}),e.value=!1}}}},yt=()=>{const e=c(!1);return{loading:e,handleDeleteAssistantAgentConversation:async()=>{try{e.value=!0;const l=await _t();M.success(l.message)}finally{e.value=!1}}}},At="/llmops-vue/assets/assistant-agent-background-Jf_uHUnU.png",mt={class:"w-[600px] h-full min-h-screen mx-auto"},bt={key:0,class:"flex flex-col px-6 h-[calc(100%-100px)] min-h-[calc(100vh-100px)]"},wt={class:"flex flex-col gap-6 py-6"},kt={key:0,class:"h-[50px] flex items-center justify-center"},Ct={key:1,class:"flex flex-col p-6 gap-2 items-center justify-center overflow-scroll scrollbar-w-none h-[calc(100%-100px)] min-h-[calc(100vh-100px)]"},St={class:"flex gap-2"},Lt={class:"flex flex-col items-start gap-2"},Mt={class:"bg-white border border-gray-200 text-gray-700 px-4 py-3 rounded-2xl break-all leading-7"},qt={class:"list-disc pl-6"},zt={class:"flex flex-col gap-2"},$t=["onClick"],Ht={class:"w-full flex flex-col flex-shrink-0"},It={class:"px-6 flex items-center gap-4"},Vt={class:"bg-white h-[50px] flex items-center gap-2 px-4 flex-1 border border-gray-200 rounded-full"},Bt=E({__name:"HomeView",setup(e){const a=c(""),l=c(""),u=c(""),n=c(null),m=c(0),x=J(),h=["什么是LLMOps?","我想创建一个应用","能介绍下什么是RAG吗?"],{suggested_questions:b,handleGenerateSuggestedQuestions:p}=it(),{loading:v,handleAssistantAgentChat:Dt}=ft(),{loading:H,handleStopAssistantAgentChat:I}=xt(),{loading:V,messages:w,loadAssistantAgentMessages:k}=ht(),{loading:D,handleDeleteAssistantAgentConversation:P}=yt(),T=()=>{m.value=n.value.$el.scrollHeight},B=()=>{n.value.$el.scrollTop=n.value.$el.scrollHeight-m.value},N=async y=>{const{scrollTop:t}=y.target;t<=0&&!V.value&&(T(),await k(!1),B())},C=async()=>{if(a.value.trim()===""){M.warning("用户提问不能为空");return}if(v.value){M.warning("上一次提问还未结束，请稍等");return}b.value=[],u.value="",l.value="",w.value.unshift({id:"",conversation_id:"",query:a.value,answer:"",total_token_count:0,latency:0,agent_thoughts:[],created_at:0}),a.value,a.value=""},q=async()=>{l.value===""||!v.value||await I(l.value)},z=async y=>{a.value=y,await C()};return R(async()=>{await k(!0),await X(()=>{n.value&&n.value.scrollToBottom()})}),(y,t)=>{const O=d("icon-poweroff"),S=d("a-button"),G=d("icon-apps"),Q=d("a-avatar"),j=d("router-link"),U=d("icon-empty"),W=d("icon-send");return _(),f("div",{class:"w-full h-full min-h-screen bg-gray-100 bg-cover bg-no-repeat bg-center",style:lt({backgroundImage:`url(${i(At)})`})},[s("div",mt,[i(w).length>0?(_(),f("div",bt,[r(i(gt),{ref_key:"scroller",ref:n,items:i(w).slice().reverse(),"min-item-size":1,onScroll:N,class:"h-full scrollbar-w-none"},{default:g(({item:o,active:L})=>[r(i(rt),{item:o,active:L,"data-index":o.id},{default:g(()=>[s("div",wt,[r(ct,{query:o.query,account:i(x).account},null,8,["query","account"]),r(ut,{agent_thoughts:o.agent_thoughts,answer:o.answer,app:{name:"辅助Agent"},suggested_questions:o.id===u.value?i(b):[],loading:o.id===u.value&&i(v),latency:o.latency,total_token_count:o.total_token_count,message_class:"bg-white",onSelectSuggestedQuestion:z},null,8,["agent_thoughts","answer","suggested_questions","loading","latency","total_token_count"])])]),_:2},1032,["item","active","data-index"])]),_:1},8,["items"]),l.value&&i(v)?(_(),f("div",kt,[r(S,{loading:i(H),class:"rounded-lg px-2",onClick:q},{icon:g(()=>[r(O)]),default:g(()=>[t[2]||(t[2]=A(" 停止响应 "))]),_:1},8,["loading"])])):Y("",!0)])):(_(),f("div",Ct,[t[12]||(t[12]=Z('<div class="mb-9"><div class="text-[40px] font-bold text-gray-700 mt-[52px] mb-4"> Hi，我是 AI 应用构建器 </div><div class="text-[30px] font-bold text-gray-700 mb-2"> 你的专属 <span class="text-blue-700">AI 原生应用</span> 开发平台 </div><div class="text-base text-gray-700"> 说出你的创意，我可以快速帮你创建专属应用，一键轻松分享给朋友，也可以一键发布到 LLMOps 平台、微信等多个渠道。 </div></div>',1)),s("div",St,[r(Q,{size:30,shape:"circle",class:"flex-shrink-0 bg-blue-700"},{default:g(()=>[r(G)]),_:1}),s("div",Lt,[t[11]||(t[11]=s("div",{class:"text-gray-700 font-bold"},"辅助Agent",-1)),s("div",Mt,[t[8]||(t[8]=s("div",{class:"font-bold"},"你好，欢迎来到LLMOps🎉",-1)),t[9]||(t[9]=s("div",{class:""}," LLMOps是新一代大模型 AI 应用开发平台。无论你是否有编程基础，都可以快速搭建出各种 AI 应用，并一键发布到各大社交平台，或者轻松部署到自己的网站。 ",-1)),s("ul",qt,[s("li",null,[t[4]||(t[4]=A(" 随时来 ")),r(j,{to:{name:"store-apps-list"},class:"text-blue-700"},{default:g(()=>t[3]||(t[3]=[A("应用广场 ")])),_:1}),t[5]||(t[5]=A(" 逛逛，这里内置了许多超有趣的应用。 "))]),t[6]||(t[6]=s("li",null,"你也可以直接发送“我想做一个应用”，我可以帮你快速创建应用。",-1)),t[7]||(t[7]=s("li",null,"你也可以向我提问有关课程的问题，我可以快速替你解答。",-1))]),t[10]||(t[10]=s("div",{class:""},"如果你还有其他LLMOps使用问题，也欢迎随时问我！",-1))]),s("div",zt,[(_(),f(tt,null,et(h,(o,L)=>s("div",{key:L,class:"px-4 py-1.5 border rounded-lg text-gray-700 cursor-pointer bg-white hover:bg-gray-50",onClick:async()=>await z(o)},ot(o),9,$t)),64))])])])])),s("div",Ht,[s("div",It,[r(S,{loading:i(D),class:"flex-shrink-0 !text-gray-700",type:"text",shape:"circle",onClick:t[0]||(t[0]=async()=>{await q(),await i(P)(),await i(k)(!0)})},{icon:g(()=>[r(U,{size:16})]),_:1},8,["loading"]),s("div",Vt,[st(s("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>a.value=o),type:"text",class:"flex-1 outline-0",placeholder:"发送消息或创建AI应用...",onKeyup:nt(C,["enter"])},null,544),[[at,a.value]]),r(S,{loading:i(v),type:"text",shape:"circle",class:"!text-gray-700",onClick:C},{icon:g(()=>[r(W,{size:16})]),_:1},8,["loading"])])]),t[13]||(t[13]=s("div",{class:"text-center text-gray-500 text-xs py-4"}," 内容由AI生成，无法确保真实准确，仅供参考。 ",-1))])])],4)}}});export{Bt as default};
