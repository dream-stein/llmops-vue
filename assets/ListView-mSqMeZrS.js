import{G as k,H as O,r as d,x as W,B as E,d as K,z as R,o as $,a as p,q as _,w as s,f as m,m as n,b as a,e as o,i as b,c as w,j as B,t as u,F as C,g as J}from"./index-BMt2W0U-.js";import{h as P}from"./moment-C5S46NFB.js";const U=()=>k("/builtin-apps/categories"),X=()=>k("/builtin-apps"),Y=l=>O("/builtin-apps/add-builtin-app-to-space",{body:{builtin_app_id:l}}),Z=()=>{const l=d(!1),e=d([]);return{loading:l,categories:e,loadBuiltinAppCategories:async()=>{try{l.value=!0;const r=await U();e.value=r.data}finally{e.value=[{category:"助手",name:"助手"},{category:"人力资源",name:"人力资源"},{category:"写作",name:"写作"},{category:"电商营销",name:"电商营销"}],l.value=!1}}}},Q=()=>{const l=d(!1),e=d([]);return{loading:l,apps:e,loadBuiltinApps:async()=>{try{l.value=!0;const r=await X();e.value=r.data}finally{e.value=[{id:"111",category:"助手",name:"AI编程助手",icon:"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2024%2F0316%2Fb8184b8ej00saf80g002ad000ew00ejp.jpg&thumbnail=660x2147483647&quality=80&type=jpg",description:`采用最智能的大模型，自动化AI编程。精通Java、C、C++、Python、Rust、Go等编程语言有很深的造诣，能够回答各种复杂的与编程相关的问题。

`,model_config:{provider:"阿里",model:"通义千问Max"},created_at:1742704861},{id:"1121",category:"助手",name:"高考专业指南",icon:"https://qcloud.dpfile.com/pc/IODTkKqebElWSB32im5VWnflb3F7TmseOBk5XC11oIz78ALYHNsplNTvZhwiAL68.jpg",description:`亲爱的考生，让我们通过十道有趣的问题，探索你的兴趣和潜力，找出最适合你的专业。我会告诉你这些专业的优秀高校在哪里，以及你未来的就业前景。让我来陪你走过这个重要的选择，打开你未来的新篇章吧！

`,model_config:{provider:"OpenAI",model:"gpt-4o"},created_at:1742704861},{id:"11213",category:"写作",name:"小红书文案输出大师",icon:"https://www.yimiaotui.com/d/image/20230427/98ed757ec1b322e69fb9e5afcfb275c2.jpg",description:"专注于小红书爆款创造！",model_config:{provider:"月之暗面",model:"Moonshot（128K）"},created_at:1742704861}],l.value=!1}}}},ee=()=>{const l=W(),e=d(!1);return{loading:e,handleAddBuiltinAppToSpace:async r=>{try{e.value=!0;const g=await Y(r);E.success("将Agent模板添加到工作区成功"),await l.push({name:"space-apps-detail",params:{app_id:g.data.id}})}finally{e.value=!1}}}},te={class:"p-6 flex flex-col"},ae={class:"flex items-center justify-between mb-6"},oe={class:"flex items-center gap-2"},se={class:"flex items-center justify-between mb-6"},ne={class:"flex items-center gap-2"},le={class:"flex items-center gap-3 mb-3"},ie={class:"flex flex-1 justify-between"},ce={class:"flex flex-col"},re={class:"text-base text-gray-900 font-bold"},de={class:"text-xs text-gray-500 line-clamp-1"},pe={class:"leading-[18px] text-gray-500 h-[72px] line-clamp-4 mb-2 break-all"},ue={class:"flex items-center gap-1.5"},_e={class:"text-xs text-gray-400"},fe=K({__name:"ListView",setup(l){const e=d("all"),c=d(""),{categories:r,loadBuiltinAppCategories:g}=Z(),{loading:j,apps:T,loadBuiltinApps:V}=Q(),{handleAddBuiltinAppToSpace:F}=ee(),h=R(()=>T.value.filter(f=>{const i=e.value==="all"||f.category===e.value,y=c.value===""||f.name.toLowerCase().includes(c.value);return i&&y}));return $(()=>{g(),V()}),(f,i)=>{const y=n("icon-common"),v=n("a-avatar"),x=n("a-button"),L=n("a-input-search"),S=n("icon-more"),z=n("a-doption"),M=n("a-dropdown"),N=n("icon-user"),q=n("a-card"),A=n("a-col"),I=n("a-empty"),D=n("a-row"),G=n("a-spin");return p(),_(G,{loading:m(j),class:"block h-full w-full"},{default:s(()=>[a("div",te,[a("div",ae,[a("div",oe,[o(v,{size:32,class:"bg-blue-700"},{default:s(()=>[o(y,{size:18})]),_:1}),i[2]||(i[2]=a("div",{class:"text-lg font-medium text-gray-900"},"应用广场",-1))])]),a("div",se,[a("div",ne,[o(x,{type:e.value==="all"?"secondary":"text",class:"rounded-lg !text-gray-700 px-3",onClick:i[0]||(i[0]=t=>e.value="all")},{default:s(()=>i[3]||(i[3]=[b(" 全部 ")])),_:1},8,["type"]),(p(!0),w(C,null,B(m(r),t=>(p(),_(x,{key:t.category,type:e.value===t.category?"secondary":"text",class:"rounded-lg !text-gray-700 px-3",onClick:H=>e.value=t.category},{default:s(()=>[b(u(t.name),1)]),_:2},1032,["type","onClick"]))),128))]),o(L,{modelValue:c.value,"onUpdate:modelValue":i[1]||(i[1]=t=>c.value=t),placeholder:"请输入应用名称",class:"w-[240px] bg-white rounded-lg border-gray-300"},null,8,["modelValue"])]),o(D,{gutter:[20,20],class:"flex-1"},{default:s(()=>[(p(!0),w(C,null,B(h.value,(t,H)=>(p(),_(A,{key:t.id,span:6},{default:s(()=>[o(q,{hoverable:"",class:"cursor-pointer rounded-lg"},{default:s(()=>[a("div",le,[o(v,{size:40,shape:"square","image-url":t.icon},null,8,["image-url"]),a("div",ie,[a("div",ce,[a("div",re,u(t.name),1),a("div",de,u(t.model_config.provider)+" · "+u(t.model_config.model),1)]),o(M,{position:"br"},{content:s(()=>[o(z,{onClick:async()=>await m(F)(t.id)},{default:s(()=>i[4]||(i[4]=[b(" 添加到工作区 ")])),_:2},1032,["onClick"])]),default:s(()=>[o(x,{type:"text",size:"small",class:"rounded-lg !text-gray-700"},{icon:s(()=>[o(S)]),_:1})]),_:2},1024)])]),a("div",pe,u(t.description),1),a("div",ue,[o(v,{size:18,class:"bg-blue-700"},{default:s(()=>[o(N)]),_:1}),a("div",_e," LLMOps · 发布时间 "+u(m(P)(t.created_at*1e3).format("MM-DD HH:mm")),1)])]),_:2},1024)]),_:2},1024))),128)),h.value.length===0?(p(),_(A,{key:0,span:24},{default:s(()=>[o(I,{description:"没有可用的内置Agent智能体",class:"h-[400px] flex flex-col items-center justify-center"})]),_:1})):J("",!0)]),_:1})])]),_:1},8,["loading"])}}});export{fe as default};
