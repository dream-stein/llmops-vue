import{g as E,a as P}from"./builtin-tool-DTWx1KuA.js";import{h as T}from"./moment-C5S46NFB.js";import{d as A,H as F,r as g,E as G,o as M,z as m,w as l,q as r,t as n,b as e,a as c,i as C,c as u,j as y,x as a,F as h,m as j,e as V,L as O,f as b,G as U}from"./index-C5j2hIWS.js";const W={class:"p-6 flex flex-col"},J={class:"flex items-center justify-between mb-6"},K={class:"flex items-center gap-2"},Q={class:"flex items-center justify-between mb-6"},R={class:"flex items-center gap-2"},X={class:"flex items-center gap-3 mb-3"},Z=["src","alt"],I={class:"flex flex-col"},ee={class:"text-base text-gray-900 font-bold"},te={class:"text-xs text-gray-500 line-clamp-1"},se={class:"leading-[18px] text-gray-500 h-[72px] line-clamp-4 mb-2"},ae={class:"flex items-center gap-1.5"},le={class:"text-xs text-gray-400"},oe={key:0,class:""},ne={class:"flex items-center gap-3 mb-3"},ce=["src","alt"],ie={class:"flex flex-col"},re={class:"text-base text-gray-900 font-bold"},de={class:"text-xs text-gray-500 line-clamp-1"},ue={class:"leading-[18px] text-gray-500 mb-2"},_e={class:"flex flex-col gap-2"},xe={class:"text-xs text-gray-500"},ve={class:"font-bold text-gray-900 mb-2"},me={class:"text-gray-500 text-xs"},fe={key:0,class:""},pe={class:"flex flex-col gap-4"},ge={class:"flex items-center gap-2 text-xs"},ye={class:"text-gray-900 font-bold"},he={class:"text-gray-500"},be={key:0,class:"text-red-700"},ke={class:"text-xs text-gray-500"},Le=A({__name:"ListView",setup(we){const z=F([]),B=F([]),v=g(!1),x=g("all"),f=g(""),o=g(-1),i=G(()=>B.filter(_=>{const s=x.value==="all"||_.category===x.value,k=f.value===""||_.label.toLowerCase().includes(f.value);return s&&k}));return M(async()=>{try{v.value=!0;const _=await E();z.push(..._.data)}finally{v.value=!1}}),M(async()=>{try{v.value=!0;const _=await P();B.push(..._.data)}finally{v.value=!1}}),(_,s)=>{const k=r("icon-common"),p=r("a-avatar"),w=r("a-button"),q=r("a-input-search"),N=r("icon-user"),L=r("a-card"),$=r("a-col"),Y=r("a-empty"),D=r("a-row"),H=r("a-drawer"),S=r("a-spin");return n(),m(S,{loading:v.value,class:"block h-full w-full"},{default:l(()=>[e("div",W,[e("div",J,[e("div",K,[c(p,{size:32,class:"bg-blue-700"},{default:l(()=>[c(k,{size:18})]),_:1}),s[3]||(s[3]=e("div",{class:"text-lg font-medium text-gray-900"},"插件广场",-1))]),c(w,{type:"primary",class:"rounded-lg"},{default:l(()=>s[4]||(s[4]=[C("创建自定义插件")])),_:1})]),e("div",Q,[e("div",R,[c(w,{type:x.value==="all"?"secondary":"text",class:"rounded-lg !text-gray-700 px-3",onClick:s[0]||(s[0]=t=>x.value="all")},{default:l(()=>s[5]||(s[5]=[C("全部 ")])),_:1},8,["type"]),(n(!0),u(h,null,y(z,t=>(n(),m(w,{key:t.category,type:x.value===t.category?"secondary":"text",class:"rounded-lg !text-gray-700 px-3",onClick:d=>x.value=t.category},{default:l(()=>[C(a(t.name),1)]),_:2},1032,["type","onClick"]))),128))]),c(q,{modelValue:f.value,"onUpdate:modelValue":s[1]||(s[1]=t=>f.value=t),placeholder:"请输入插件名称",class:"w-[240px] bg-white rounded-lg border-gray-300"},null,8,["modelValue"])]),c(D,{gutter:[20,20],class:"flex-1"},{default:l(()=>[(n(!0),u(h,null,y(i.value,(t,d)=>(n(),m($,{key:t.name,span:6},{default:l(()=>[c(L,{hoverable:"",class:"cursor-pointer rounded-lg",onClick:Ce=>o.value=d},{default:l(()=>[e("div",X,[c(p,{size:40,shape:"square",style:j({backgroundColor:t.background})},{default:l(()=>[e("img",{src:`${V(O)}/builtin-tools/${t.name}/icon`,alt:t.name},null,8,Z)]),_:2},1032,["style"]),e("div",I,[e("div",ee,a(t.label),1),e("div",te," 提供商 "+a(t.name)+" · "+a(t.tools.length)+" 插件 ",1)])]),e("div",se,a(t.description),1),e("div",ae,[c(p,{size:18,class:"bg-blue-700"},{default:l(()=>[c(N)]),_:1}),e("div",le," LLMOps · 发布时间 "+a(V(T)(t.created_at).format("YYYY-MM-DD HH:mm")),1)])]),_:2},1032,["onClick"])]),_:2},1024))),128)),i.value.length===0?(n(),m($,{key:0,span:24},{default:l(()=>[c(Y,{description:"没有可用的内置插件",class:"h-[400px] flex flex-col items-center justify-center"})]),_:1})):b("",!0)]),_:1}),c(H,{visible:o.value!=-1,width:350,footer:!1,title:"工具详情","drawer-style":{background:"#F9FAFB"},onCancel:s[2]||(s[2]=t=>o.value=-1)},{default:l(()=>[o.value!=-1?(n(),u("div",oe,[e("div",ne,[c(p,{size:40,shape:"square",style:j({backgroundColor:i.value[o.value].background})},{default:l(()=>[e("img",{src:i.value[o.value].icon,alt:i.value[o.value].name},null,8,ce)]),_:1},8,["style"]),e("div",ie,[e("div",re,a(i.value[o.value].label),1),e("div",de," 提供商 "+a(i.value[o.value].name)+" · "+a(i.value[o.value].tools.length)+" 插件 ",1)])]),e("div",ue,a(i.value[o.value].description),1),s[7]||(s[7]=e("hr",{class:"my-4"},null,-1)),e("div",_e,[e("div",xe," 包含 "+a(i.value[o.value].tools.length)+" 个工具 ",1),(n(!0),u(h,null,y(i.value[o.value].tools,t=>(n(),m(L,{key:t.name,class:"cursor-pointer flex flex-col rounded-xl"},{default:l(()=>[e("div",ve,a(t.label),1),e("div",me,a(t.description),1),t.inputs.length>0?(n(),u("div",fe,[s[6]||(s[6]=e("div",{class:"flex items-center gap-2 my-4"},[e("div",{class:"text-xs font-bold text-gray-500"},"参数"),e("hr",{class:"flex-1"})],-1)),e("div",pe,[(n(!0),u(h,null,y(t.inputs,d=>(n(),u("div",{key:d.name,class:"flex flex-col gap-2"},[e("div",ge,[e("div",ye,a(d.name),1),e("div",he,a(V(U)[d.type]),1),d.required?(n(),u("div",be,"必填")):b("",!0)]),e("div",ke,a(d.description),1)]))),128))])])):b("",!0)]),_:2},1024))),128))])])):b("",!0)]),_:1},8,["visible"])])]),_:1},8,["loading"])}}});export{Le as default};
