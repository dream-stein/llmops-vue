import{d as c,p as i,s as r,o as p,f as u,h as m,j as l,k as _,r as d}from"./index-DycsMsrq.js";import{a as h}from"./oauth-TgDM20jG.js";import{a as f}from"./request-BSJBvSJz.js";const w={class:"w-full min-h-screen flex items-center justify-center bg-white"},x=c({__name:"AuthorizeView",setup(g){const s=l(),o=_(),n=f();return i(async()=>{var t,a;try{const e=await h((t=s.params)==null?void 0:t.provider_name,(a=s.query)==null?void 0:a.code);r.success("登录成功，正在跳转"),n.update(e.data),await o.replace({path:"/home"})}catch(e){await o.replace({path:"/auth/login"}),r.error(e.message)}}),(t,a)=>{const e=d("a-spin");return p(),u("div",w,[m(e,{tip:"第三方授权登录中..."})])}}});export{x as default};
