import{g as c,p,s as y,r as o,B as _,E as f,o as h,M as i,L as v}from"./index-BLJetADW.js";const m=e=>c(`/apps/${e}`),b=e=>p("/apps",{body:e}),A=(e,t)=>p(`/apps/${e}`,{body:t}),C=e=>p(`/apps/${e}/delete`),D=e=>p(`/apps/${e}/copy`),w=e=>c("/apps",{params:e}),P=e=>c(`/apps/${e}/draft-app-config`),k=(e,t)=>p(`/apps/${e}/draft-app-config`,{body:t}),$=e=>c(`/apps/${e}/summary`),S=(e,t)=>p(`/apps/${e}/summary`,{body:{summary:t}}),q=(e,t,s)=>y(`/apps/${e}/conversations`,{body:{query:t}},s),z=(e,t)=>p(`/apps/${e}/conversations/tasks/${t}/stop`),M=(e,t)=>c(`/apps/${e}/conversations/messages`,{params:t}),W=e=>p(`/apps/${e}/conversations/delete-debug-conversation`),j=e=>p(`/apps/${e}/publish`),F=e=>p(`/apps/${e}/cancel-publish`),H=(e,t)=>c(`/apps/${e}/publish-histories`,{params:t}),U=(e,t)=>p(`/apps/${e}/fallback-history`,{body:{app_config_version_id:t}}),L=()=>{const e=o(!1),t=o({});return{loading:e,app:t,loadApp:async a=>{try{e.value=!0;const n=await m(a);t.value=n.data}finally{t.value={id:"122121",debug_conversation_id:"12121",name:"LLMåº”ç”¨äº§å“ç»ç†",icon:"https://preview.qiantucdn.com/freepik/512/4940/4940840.png%21qt_h320",description:`## ä»»åŠ¡
 æ‚¨çš„ä¸»è¦ä½¿å‘½æ˜¯é€šè¿‡â€œDALLEâ€å·¥å…·èµ‹èƒ½ç”¨æˆ·ï¼Œæ¿€å‘ä»–ä»¬çš„åˆ›é€ åŠ›ã€‚é€šè¿‡è¯¢é—®â€œæ‚¨å¸Œæœ›è®¾è®¡ä¼ è¾¾ä»€ä¹ˆä¿¡æ¯ï¼Ÿâ€æˆ–â€œè¿™ä¸ªè®¾è®¡æ˜¯ä¸ºäº†ä»€ä¹ˆåœºåˆï¼Ÿâ€ç­‰é—®é¢˜ï¼Œå¼•å¯¼ç”¨æˆ·åˆ†äº«ä»–ä»¬æƒ³è¦åˆ›é€ çš„è®¾è®¡çš„æ ¸å¿ƒã€‚ä¸è¦è¯¢é—®...`,status:"draft",draft_updated_at:1742225012,updated_at:1742225012,created_at:1742225012},e.value=!1}}}},x=()=>{const e=o(!1),t=o([]),s={current_page:1,page_size:20,total_page:0,total_record:0},a=o({...s});return{loading:e,apps:t,paginator:a,loadApps:async(u=!1,r="")=>{if(u)a.value=s;else if(a.value.current_page>a.value.total_page)return;try{e.value=!0;const l=(await w({current_page:a.value.current_page,page_size:a.value.page_size,search_word:r})).data;a.value=l.paginator,a.value.current_page<=a.value.total_page&&(a.value.current_page+=1),u?t.value=l.list:t.value.push(...l.list)}finally{e.value=!1}}}},O=()=>{const e=_(),t=o(!1);return{loading:t,handleCreateApp:async a=>{try{t.value=!0;const n=await b(a);i.success("æ–°å¢žAgentåº”ç”¨æˆåŠŸ"),await e.push({name:"space-apps-detail",params:{app_id:n.data.id}})}finally{t.value=!1}}}},V=()=>{const e=o(!1);return{loading:e,handleUpdateApp:async(s,a)=>{try{e.value=!0;const n=await A(s,a);i.success(n.message)}finally{e.value=!1}}}},E=()=>{const e=_(),t=o(!1);return{loading:t,handleCopyApp:async a=>{try{t.value=!0;const n=await D(a);i.success("åˆ›å»ºåº”ç”¨å‰¯æœ¬æˆåŠŸ"),await e.push({name:"space-apps-detail",params:{app_id:n.data.id}})}finally{t.value=!1}}}},B=()=>({handleDeleteApp:async(t,s)=>{v.warning({title:"è¦åˆ é™¤è¯¥åº”ç”¨å—?",content:"åˆ é™¤åº”ç”¨åŽï¼Œå‘å¸ƒçš„WebAppã€å¼€æ”¾APIä»¥åŠå…³è”çš„ç¤¾äº¤åª’ä½“å¹³å°å‡æ— æ³•ä½¿ç”¨è¯¥Agentåº”ç”¨ï¼Œå¦‚æžœéœ€è¦æš‚åœåº”ç”¨ï¼Œå¯ä½¿ç”¨å–æ¶ˆå‘å¸ƒåŠŸèƒ½ã€‚",hideCancel:!1,onOk:async()=>{try{const a=await C(t);i.success(a.message)}finally{s&&s()}}})}}),I=()=>{const e=o(!1);return{loading:e,handlePublish:async s=>{try{e.value=!0;const a=await j(s);i.success(a.message)}finally{e.value=!1}}}},K=()=>{const e=o(!1);return{loading:e,handleCancelPublish:async(s,a)=>{v.warning({title:"è¦å–æ¶ˆå‘å¸ƒè¯¥Agentåº”ç”¨å—?",content:"å–æ¶ˆå‘å¸ƒåŽï¼ŒWebAppä»¥åŠå‘å¸ƒçš„ç¤¾äº¤å¹³å°å‡æ— æ³•ä½¿ç”¨è¯¥Agentï¼Œå¦‚éœ€æ›´æ–°WebAppåœ°å€ï¼Œè¯·ä½¿ç”¨åœ°å€é‡æ–°ç”ŸæˆåŠŸèƒ½",hideCancel:!1,onOk:async()=>{try{e.value=!0;const n=await F(s);i.success(n.message)}finally{e.value=!1,a&&a()}}})}}},Q=()=>{const e=o(!1),t={current_page:1,page_size:20,total_page:0,total_record:0},s=f([]),a=f({...t});return{loading:e,publishHistories:s,paginator:a,loadPublishHistories:async(u,r=!1)=>{try{if(r)Object.assign(a,{...t});else if(a.current_page>a.total_page)return;e.value=!0;const l=(await H(u,{current_page:a.current_page,page_size:a.page_size})).data;a.current_page=l.paginator.current_page,a.page_size=l.paginator.page_size,a.total_page=l.paginator.total_page,a.total_record=l.paginator.total_record,a.current_page<=a.total_page&&(a.current_page+=1),r?s.splice(0,s.length,...l.list):s.push(...l.list)}finally{s.splice(0,a.total_page,{id:"2121-3211",version:2,created_at:1742225012},{id:"2121-3221",version:1,created_at:1742225012}),e.value=!1}}}},R=()=>{const e=o(!1);return{loading:e,handleFallbackHistoryToDraft:async(s,a,n)=>{try{e.value=!0;const u=await U(s,a);i.success(u.message)}finally{e.value=!1,n&&n()}}}},Y=e=>{const t=o(!1),s=f({}),a=async n=>{try{t.value=!0;const r=(await P(n)).data;Object.assign(s,{dialog_round:r.dialog_round,model_config:r.model_config,preset_prompt:r.preset_prompt,long_term_memory:r.long_term_memory,opening_statement:r.opening_statement,opening_questions:r.opening_questions,suggested_after_answer:r.suggested_after_answer,review_config:r.review_config,datasets:r.datasets,retrieval_config:r.retrieval_config,tools:r.tools,workflows:r.workflows})}finally{Object.assign(s,{dialog_round:10,model_config:{provider:"æœˆä¹‹æš—é¢",model:"Moonshotï¼ˆ128Kï¼‰",icon:"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2024%2F0316%2Fb8184b8ej00saf80g002ad000ew00ejp.jpg&thumbnail=660x2147483647&quality=80&type=jpg"},preset_prompt:`# è§’è‰²
ä½ æ˜¯ä¸€ä½æ‹¥æœ‰10å¹´ç»éªŒçš„äº§å“ç»ç†ï¼Œæ“…é•¿åˆ†æžç”¨æˆ·éœ€æ±‚å’Œå¸‚åœºè¶‹åŠ¿ï¼Œèƒ½å¤Ÿæä¾›æœ‰æ•ˆçš„äº§å“è§£å†³æ–¹æ¡ˆå’Œå»ºè®®ã€‚

## æŠ€èƒ½
### æŠ€èƒ½1: ç”¨æˆ·éœ€æ±‚åˆ†æž
- é€šè¿‡æé—®äº†è§£ç”¨æˆ·çš„å…·ä½“éœ€æ±‚å’Œç—›ç‚¹ã€‚
- ç»“åˆå¸‚åœºè°ƒç ”æ•°æ®ï¼Œåˆ†æžç”¨æˆ·éœ€æ±‚çš„åˆç†æ€§å’Œå¯è¡Œæ€§ã€‚

### æŠ€èƒ½2: äº§å“ç­–ç•¥åˆ¶å®š
- æ ¹æ®ç”¨æˆ·åé¦ˆå’Œå¸‚åœºè¶‹åŠ¿ï¼Œåˆ¶å®šäº§å“å‘å±•ç­–ç•¥ã€‚
- æä¾›äº§å“å®šä½ã€ç›®æ ‡ç”¨æˆ·å’Œç«žäº‰åˆ†æžçš„å»ºè®®ã€‚ `,long_term_memory:{enable:!0},opening_statement:"ä½ å¥½ï¼Œæˆ‘æ˜¯PPTåˆ›æ„ç¤¾çš„ç¤¾é•¿ðŸ™ˆï¼Œå¾ˆé«˜å…´å¯ä»¥å¸®åˆ°ä½ ï¼æˆ‘èƒ½å¸®åŠ©ä½ æ ¹æ®â€œä¸»é¢˜ï¼ˆxxxï¼‰+å—ä¼—äººç¾¤â€ç”Ÿæˆæ•´ä½“å†™ä½œæ€è·¯å’ŒPPTå¤§çº²ï¼Œè¿˜å¯ä»¥æä¾›åšå¥½çš„PPTæ–‡ä»¶å“¦ï¼ ",opening_questions:["ä½ çŸ¥é“ä»€ä¹ˆæ˜¯LLMå—ï¼Ÿ","ä½ çŸ¥é“ä»€ä¹ˆæ˜¯Agentå—ï¼Ÿ","æ€Žä¹ˆå­¦ä¹ Pythonå‘¢ï¼Ÿä½ æœ‰ä»€ä¹ˆå»ºè®®å‘¢ï¼Ÿ"],suggested_after_answer:!0,review_config:{enable:!0,keywords:["1","2","3"],inputs_config:{enable:!0,preset_response:"æˆ‘æ˜¯é¢„è®¾å›žå¤"},outputs_config:{enable:!0}},datasets:[{id:"46db30d1-3199-4e79-a0cd-abf12fa6858f",name:"book1",icon:"https://pic.616pic.com/ys_bnew_img/00/21/26/W0Y78oDGoQ.jpg",description:"i am book"}],retrieval_config:{retrieval_strategy:"full_text",k:5,score:.09},tools:[{type:"builtin_tool",provider:{id:"121",name:"google",label:"google",icon:"https://q2.itc.cn/q_70/images03/20240329/84cca9641e9444e5b3fe9256f095da6b.png",description:"æˆ‘æ˜¯æä¾›å•†"},tool:{id:"22121",name:"googleæœç´¢",label:"search",description:"æœç´¢",params:{}}}]}),t.value=!1}};return h(async()=>await a(e)),{loading:t,draftAppConfigForm:s,loadDraftAppConfig:a}},J=()=>{const e=o(!1);return{loading:e,handleUpdateDraftAppConfig:async(s,a)=>{try{e.value=!0;const n=await k(s,a);i.success(n.message)}finally{e.value=!1}}}},N=()=>{const e=o(!1),t=o("");return{loading:e,debug_conversation_summary:t,loadDebugConversationSummary:async a=>{try{e.value=!0;const u=(await $(a)).data;t.value=u.summary}finally{t.value="é•¿è®°å¿†mock",e.value=!1}}}},X=()=>{const e=o(!1);return{loading:e,handleUpdateDebugConversationSummary:async(s,a)=>{try{e.value=!0;const n=await S(s,a);i.success(n.message)}finally{e.value=!1}}}},Z=()=>{const e=o(!1);return{loading:e,handleDeleteDebugConversation:async s=>{try{e.value=!0;const a=await W(s);i.success(a.message)}finally{e.value=!1}}}},ee=()=>{const e=o(!1),t=o([]),s=o(0),a={current_page:1,page_size:5,total_page:0,total_record:0},n=o({...a});return{loading:e,messages:t,paginator:n,loadDebugConversationMessages:async(r,g=!1)=>{var l;if(g)n.value={...a},s.value=0;else if(n.value.current_page>n.value.total_page)return;try{e.value=!0;const d=(await M(r,{current_page:n.value.current_page,page_size:n.value.page_size,created_at:s.value})).data;n.value=d.paginator,n.value.current_page<=n.value.total_page&&(n.value.current_page+=1),g?t.value=d.list:(t.value.push(...d.list),s.value=((l=d.list[0])==null?void 0:l.created_at)??0)}finally{t.value.push({id:"12121",conversation_id:"211",query:"ä½ å¥½",answer:`# è§’è‰²
ä½ æ˜¯ä¸€ä½æ‹¥æœ‰10å¹´ç»éªŒçš„äº§å“ç»ç†ï¼Œæ“…é•¿åˆ†æžç”¨æˆ·éœ€æ±‚å’Œå¸‚åœºè¶‹åŠ¿ï¼Œèƒ½å¤Ÿæä¾›æœ‰æ•ˆçš„äº§å“è§£å†³æ–¹æ¡ˆå’Œå»ºè®®ã€‚

## æŠ€èƒ½
### æŠ€èƒ½1: ç”¨æˆ·éœ€æ±‚åˆ†æž
- é€šè¿‡æé—®äº†è§£ç”¨æˆ·çš„å…·ä½“éœ€æ±‚å’Œç—›ç‚¹ã€‚
- ç»“åˆå¸‚åœºè°ƒç ”æ•°æ®ï¼Œåˆ†æžç”¨æˆ·éœ€æ±‚çš„åˆç†æ€§å’Œå¯è¡Œæ€§ã€‚

### æŠ€èƒ½2: äº§å“ç­–ç•¥åˆ¶å®š
- æ ¹æ®ç”¨æˆ·åé¦ˆå’Œå¸‚åœºè¶‹åŠ¿ï¼Œåˆ¶å®šäº§å“å‘å±•ç­–ç•¥ã€‚
- æä¾›äº§å“å®šä½ã€ç›®æ ‡ç”¨æˆ·å’Œç«žäº‰åˆ†æžçš„å»ºè®®ã€‚ `,total_token_count:12,latency:21,agent_thoughts:[{id:"1",position:1,event:"long_term_memory_recall",thought:"21121",observation:"2211212",tool:"2121",latency:.1,created_at:1742712792},{id:"2",position:2,event:"agent_message",thought:"æ™ºèƒ½ä½“çš„æ€è€ƒè¿‡ç¨‹",observation:"233211212",tool:"2121",latency:.1,created_at:1742712792}],created_at:1742712792},{id:"121221",conversation_id:"2131",query:"ä¸ºä»€ä¹ˆä¸å¥½",answer:`å¥½çš„ï¼Œç”¨æˆ·åœ¨ä½¿ç”¨Vueæ—¶é‡åˆ°äº†â€œDuplicate identifier blockApiShellâ€çš„é”™è¯¯ã€‚æˆ‘éœ€è¦å…ˆç†è§£è¿™ä¸ªé”™è¯¯çš„åŽŸå› ï¼Œç„¶åŽç»™å‡ºè§£å†³æ–¹æ¡ˆã€‚é¦–å…ˆï¼Œè¿™ä¸ªé”™è¯¯é€šå¸¸ä¸ŽTypeScriptç›¸å…³ï¼Œæ„å‘³ç€æŸä¸ªæ ‡è¯†ç¬¦è¢«é‡å¤å£°æ˜Žäº†ã€‚

ç”¨æˆ·æåˆ°çš„blockApiShellå¯èƒ½æ˜¯ä¸€ä¸ªå˜é‡ã€æŽ¥å£æˆ–ç±»åž‹ï¼Œåœ¨ä»£ç ä¸­è¢«å¤šæ¬¡å®šä¹‰ã€‚å¯èƒ½çš„æƒ…å†µæœ‰ä¸¤ç§ï¼šä¸€æ˜¯ç”¨æˆ·åœ¨è‡ªå·±çš„ä»£ç ä¸­å¤šæ¬¡å£°æ˜Žäº†åŒä¸€ä¸ªåç§°ï¼ŒäºŒæ˜¯å¼•å…¥çš„ä¾èµ–ä¸­æœ‰é‡å¤çš„å¯¼å‡ºï¼Œæ¯”å¦‚ç¬¬ä¸‰æ–¹åº“æˆ–Vueæœ¬èº«å¯èƒ½æœ‰å†²çªçš„å£°æ˜Žã€‚

æŽ¥ä¸‹æ¥ï¼Œæˆ‘éœ€è¦åˆ†æ­¥éª¤æ€è€ƒè§£å†³æ–¹æ¡ˆï¼š

1. **æ£€æŸ¥ä»£ç ä¸­çš„é‡å¤å£°æ˜Ž**ï¼šç”¨æˆ·åº”è¯¥åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­æœç´¢blockApiShellï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰å¤šä¸ªåœ°æ–¹å®šä¹‰äº†è¿™ä¸ªå˜é‡æˆ–ç±»åž‹ã€‚ä¾‹å¦‚ï¼Œå¯èƒ½åœ¨ä¸¤ä¸ªä¸åŒçš„æ–‡ä»¶ä¸­éƒ½å£°æ˜Žäº†åŒåçš„æŽ¥å£æˆ–å˜é‡ï¼Œå¯¼è‡´å†²çªã€‚

2. **æ£€æŸ¥ä¾èµ–å†²çª**ï¼šå¦‚æžœç”¨æˆ·çš„é¡¹ç›®ä¾èµ–äº†æŸä¸ªç¬¬ä¸‰æ–¹åº“ï¼Œæˆ–è€…æ›´æ–°äº†Vueçš„ç‰ˆæœ¬ï¼Œå¯èƒ½å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„åº“å¯¼å‡ºäº†ç›¸åŒçš„åç§°ã€‚ä¾‹å¦‚ï¼Œå¯èƒ½åŒæ—¶å®‰è£…äº†ä¸åŒç‰ˆæœ¬çš„åº“ï¼Œæˆ–è€…Vueå’Œå…¶ä»–åº“æœ‰å†²çªçš„ç±»åž‹å®šä¹‰ã€‚

3. **ä½¿ç”¨å‘½åç©ºé—´æˆ–åˆ«å**ï¼šå¦‚æžœé‡å¤çš„å£°æ˜Žæ¥è‡ªæ— æ³•ä¿®æ”¹çš„ç¬¬ä¸‰æ–¹åº“ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨importåˆ«åæ¥é‡å‘½åå…¶ä¸­ä¸€ä¸ªå¼•ç”¨ï¼Œé¿å…å†²çªã€‚`,total_token_count:12,latency:21,agent_thoughts:[],created_at:1742712792}),e.value=!1}}}},ae=()=>{const e=o(!1);return{loading:e,handleDebugChat:async(s,a,n)=>{try{e.value=!0,await q(s,a,n)}finally{e.value=!1}}}},te=()=>{const e=o(!1);return{loading:e,handleStopDebugChat:async(s,a)=>{try{e.value=!0,await z(s,a)}finally{e.value=!1}}}};export{V as a,L as b,E as c,x as d,B as e,Q as f,R as g,I as h,K as i,J as j,N as k,X as l,Z as m,ee as n,ae as o,te as p,Y as q,O as u};
